<!DOCTYPE html>
<html lang="zh-Hant">

<head>
    <meta charset="UTF-8" />
    <title>åŠŸèƒ½é¦–é </title>
</head>

<body>
    <div id="adminSection" style="display: none;">
        <hr>
        <h3>ğŸ”§ ç®¡ç†è€…åŠŸèƒ½</h3>
        <a href="/admin-all-reports.html">æŸ¥çœ‹æ‰€æœ‰äººé€±å ±</a> |
        <a href="/admin-statistics.html">æŸ¥çœ‹çµ±è¨ˆè³‡æ–™</a>
    </div>
    <div id="userInfo" style="text-align: right; margin: 10px;"></div>

    <h2>ğŸ‘‹ æ­¡è¿ä½¿ç”¨ WorkLog ç³»çµ±</h2>
    <p>è«‹é¸æ“‡è¦é€²è¡Œçš„æ“ä½œï¼š</p>

    <div style="margin: 10px;">
        <a href="/dailyLog.html">ğŸ“ å¡«å¯«å·¥æ™‚</a> |
        <a href="/weeklyReport.html">ğŸ“† å¡«å¯«é€±å ±</a> |
        <a href="/workLogs.html">ğŸ“… æˆ‘çš„æ¯æ—¥å·¥æ™‚</a> |
        <a href="/myWeeklyReports.html">ğŸ“‹ æˆ‘çš„é€±å ±ç´€éŒ„</a> |
        <a href="#" onclick="logout()">ğŸšª ç™»å‡º</a>
    </div>

    <script>
        const username = localStorage.getItem("username");
        const token = localStorage.getItem("token");
        const role = localStorage.getItem("role"); // âœ… åŠ é€™ä¸€è¡Œ

        if (!username || !token) {
            alert("è«‹å…ˆç™»å…¥");
            window.location.href = "/login.html";
        } else {
            // é¡¯ç¤ºä½¿ç”¨è€…åç¨±
            document.getElementById("userInfo").innerText = `ğŸ‘¤ ä½¿ç”¨è€…ï¼š${username}`;

            // âœ… æ ¹æ“šè§’è‰²é¡¯ç¤º admin åŠŸèƒ½
            if (role === 'admin') {
                document.getElementById("adminSection").style.display = "block";
            }
        }

        function logout() {
            localStorage.clear();
            alert("å·²ç™»å‡ºï¼");
            window.location.href = "/login.html";
        }
    </script>
</body>

</html>